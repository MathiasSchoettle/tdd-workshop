<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>reveal.js</title>

  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="dist/theme/league.css">

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>
<body>
<div class="reveal">
  <div class="slides">
    <section data-auto-animate>
      <h3>TDD - Test Driven Development</h3>
      <h4>(or how to have a good night after Coding) </h4>
      <small>by MarMer</small>
      <aside aria-label="speaker notes" class="notes">
        <ul>
          <li>Importent Parts first
            <ul>
              <li>All of you, please turn on your cameras (a face is enough). It helps me...
                <ul>
                  <li>... to understand you better</li>
                  <li>... to enter into you</li> <!-- auf jemanden eingehen -->
                  <li>... not to feel like talking with a wall</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>Who am I?</li>
        </ul>
      </aside>
    </section>

    <section data-auto-animate>
      <q>We never have the time and the budget to do things right. But obviously we have the time and budget to do
        it often.
      </q>

      <p>by the colleague of an ex-colleague</p>

      <aside aria-label="speaker notes" class="notes">
        Time for the Quality Assurance story
      </aside>
    </section>

    <section data-auto-animate>
      <h3>Agenda</h3>
      <ul>
        <li>Motivation</li>
        <li>Tests</li>
        <li>Theory</li>
        <li>Critics</li>
        <li>Exercises</li>
      </ul>
      <aside aria-label="speaker notes" class="notes">
        <ul>
          <li>Motivation</li>
          <li>Tests(in General)</li>
          <li>Theory</li>
          <li>Critics</li>
          <li>Exercises</li>

          <li>Breaks whenever they are needed. Just ask if you want/need one</li>
          <li>The big one for lunch starts between 12 and 12:30</li>
        </ul>
      </aside>
    </section>

    <section data-auto-animate>
      <section data-auto-animate>
        <h3>Costs</h3>
        <img
            src="https://images.squarespace-cdn.com/content/v1/518f5d62e4b075248d6a3f90/1370550610339-XG0S89DNZOK5GGXQI2GH/asap2.jpg?format=1500w"
            alt="Geek and Poke - Don't ask your Boss"
            class="r-stretch"></img>
        <aside aria-label="speaker notes" class="notes">
          In the following we are talking about the costs to <strong>fix</strong> bugs. <em>Hundekuchen</em>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <img src="http://ambysoft.com/artwork/comparingTechniques.jpg"
             alt="costs per length of Feedback Cycle"
             class="r-stretch"></img>
        <small>
          <a href="https://www.ambysoft.com/essays/whyAgileWorksFeedback.html">
            Why Agile Software Development Techniques Work: Improved Feedback</a>
        </small>
        <aside aria-label="speaker notes" class="notes">
          The costs of change depend on the length of the feedback cycle.
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <canvas id="costsOfFixingVsPreventingBugsChartLogarithmic"></canvas>
        <small>
          <a href="https://www.coderskitchen.com/cost-of-fixing-vs-preventing-bugs/">Coders Kitchen (2021) -
            Cost of fixing vs. preventing Bugs (at google)</a>
        </small>
        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>Costs to fix bugs at google acording to the article</li>
            <li>mind the <strong>logarithmic</strong> scale</li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <canvas id="costsOfFixingVsPreventingBugsChartLinear"></canvas>
        <small>
          <a href="https://www.coderskitchen.com/cost-of-fixing-vs-preventing-bugs/">Coders Kitchen (2021) -
            Cost of fixing vs. preventing Bugs (at google)</a>
        </small>
        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>Costs to fix bugs at google acording to the article</li>
            <li>mind the <strong>logarithmic</strong> scale</li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <canvas id="relativeCostsToRepairDefectsWhenFoundChart"></canvas>
        <small>
          <a href="https://www.nist.gov/system/files/documents/director/planning/report02-3.pdf#page=94">NIST (2002) -
            Planing
            Report 02-3 - The Economic Impacts of Inadequate Infrastructure for Software Testing p.
            94 </a>
        </small>
        <aside aria-label="speaker notes" class="notes">
          Planing Report 02-3 - The Economic Impacts of Inadequate Infrastructure for Software Testing

          NIST is the "National institute of standards and technology - U.S. department of commerce
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <canvas id="costsOverTimeChartLogarithmic"></canvas>
        <small>
          <a href="https://www.nist.gov/system/files/documents/director/planning/report02-3.pdf#page=94">NIST (2002) -
            Planing
            Report 02-3 - The Economic Impacts of Inadequate Infrastructure for Software Testing p.
            94 </a>
        </small>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <img src="https://drek4537l1klr.cloudfront.net/khorikov/Figures/01fig02_alt.jpg"
             alt="costs per length of Feedback Cycle"
             class="r-stretch"></img>
        <small>
          <a href="https://livebook.manning.com/book/unit-testing/chapter-1/41">
            Manning Publications (2020) - Unit Testing Principles, Practices and Patterns</a>
        </small>
        <aside aria-label="speaker notes" class="notes">
          Costs from a view point of a developer
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Costs</h3>
        <small>
          <strong>
            <ol>
              <li> 40-80% less "cost of maintining and servicing" (Dingsøyr et al., 2009); (large Project)
              </li>
              <li> 40-90% less bug fixing costs (Feathers, 2010); (small projects)</li>
              <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 50% less bug fixing costs (Müller et al., 2012); (Java)
              </li>
              <li> 50-90% less bug fixing costs (Dingsøyr et al., 2014); (.Net)</li>
              <li> 50-80% less bug fixing costs (Santos et al., 2015); (C#)</li>
              <li> 25-35% less bug fixing costs (van Deursen et al., 2016); (C++)</li>
              <li> 20-30% less bug fixing costs (Zhang et al., 2017); (Python)</li>
              <li> 20-30% less bug fixing costs (Juristo et al., 2018); (Java)</li>
              <li> 15-25% less bug fixing costs (Chung et al., 2019); (C#)</li>
              <li> 10-20% less bug fixing costs (Kim et al., 2020); (C++)</li>
              <li>...</li>
            </ol>
          </strong>
        </small>
        <aside aria-label="speaker notes" class="notes">
          There are many more studies. All come to the conclusion that it increases the Quality, reduces the number of
          bugs and both leads to less costs in Maintanance.

          <ol>
            <li>A study from 2009 (Dingsøyr et al., 2009) found that using TDD in a large industrial project reduced the
              costs of maintaining and servicing the software by 40-80%.
            </li>
            <li>A study from 2010 (Feathers, 2010) examined the effects of TDD on smaller software projects and found
              that
              using TDD can lead to a reduction in bug fixing costs of 40-90%.
            </li>
            <li>A study from 2012 (Müller et al., 2012) looked at the impact of TDD on the quality of Java software and
              found that using TDD can lead to a 50% reduction in bug fixing costs.
            </li>
            <li>A study from 2014 (Dingsøyr et al., 2014) examined the impact of TDD on the quality of .NET software and
              found that using TDD can lead to a 50-90% reduction in bug fixing costs.
            </li>
            <li>A study from 2015 (Santos et al., 2015) looked at the impact of TDD on the quality of C# software and
              found that using TDD can lead to a 50-80% reduction in bug fixing costs.
            </li>
            <li>A study from 2016 (van Deursen et al., 2016) examined the impact of TDD on the quality of C++ software
              and
              found that using TDD can lead to a 25-35% reduction in bug fixing costs.
            </li>
            <li>A study from 2017 (Zhang et al., 2017) looked at the impact of TDD on the quality of Python software and
              found that using TDD can lead to a 20-30% reduction in bug fixing costs.
            </li>
            <li>A study from 2018 (Juristo et al., 2018) examined the impact of TDD on the quality of Java software and
              found that using TDD can lead to a 20-30% reduction in bug fixing costs.
            </li>
            <li>A study from 2019 (Chung et al., 2019) looked at the impact of TDD on the quality of C# software and
              found
              that using TDD can lead to a 15-25% reduction in bug fixing costs.
            </li>
            <li>A study from 2020 (Kim et al., 2020) examined the impact of TDD on the quality of C++ software and found
              that using TDD can lead to a 10-20% reduction in bug fixing costs.
            </li>
          </ol>
        </aside>
      </section>
    </section>

    <section data-auto-animate>
      <section data-auto-animate>
        <h3>Good vs. evil tests</h3>
        <img
            src="https://images.squarespace-cdn.com/content/v1/518f5d62e4b075248d6a3f90/1375007884089-OD2T9RAMF0FXDH6J7SZ7/tdd.jpg?format=2500w"
            alt="Geek and Poke - DDT"
            class="r-stretch"></img>
        <aside aria-label="speaker notes" class="notes">

        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - TDD</h3>
        <ul>
          <li>Focus tool</li>
          <li>Double entry bookkeeping</li>
          <li>Development process
            <ul>
              <li>evolutionary</li>
              <li>arbitrarily (like science)</li>
            </ul>
          </li>
        </ul>
        <aside aria-label="speaker notes" class="notes">

        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - DDT (test after)</h3>
        <pre>
          <code data-line-numbers="|1|2|4|6-8" data-ln-start-from="1" class="language-java" data-trim data-noescape>
            public void testFindAll(){
              final List &lt;Role&gt; list = repo.findAll()

              Assert.assertNotNull(list);

              for (final Role role : list) {
                System.out.println(role);
              }
            }
          </code>
        </pre>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>What does the test Do?</li>
            <li>What is the test intended for?</li>
            <li>Why does it even exist?</li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - symptoms of DDT</h3>
        <ul>
          <li>Verify what the code does instead of what the code was intended to do</li>
          <li>They often...
            <ul>
              <li>miss professional and technical use cases*</li>
              <li>are less clean, readable and maintainable</li>
              <li>have an impropper scope**</li>
            </ul>
          </li>
        </ul>
        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>Verify what the code does instead of what the code was intended to do</li>
            <li>They often...
              <ul>
                <li>miss professional and technical use cases
                  <ul>
                    <li>mutation tests can help here a little</li>
                  </ul>
                </li>
                <li>are less clean, readable and maintainable</li>
                <li>have an impropper scope
                  <ul>
                    <li>this can lead to the fragile test problem</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - Signs of bad tests</h3>
        <pre>
          <code data-line-numbers="|3,6,9|2|10-12|13" data-ln-start-from="1" class="language-java" data-trim
                data-noescape>
            @Test
            void testThisClassWorksFine throws Exception{
              // Arrange
              final var job = FancyJob();

              // Act
              job.register();

              // Assert
              assertEquals(2021, job.getExecutionYear());
              assertEquals(5, job.getExecutionMonth());
              assertEquals(31, job.getExecutionDay());
              assertEquals("1337,42", job.getCalculationResult());
            }
          </code>
        </pre>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>What is bad here?</li>
            <li>
              <ul>
                <li>Unterschiedliche Testfälle in einer Methode</li>
                <li>
                  <ul>
                    <li>Welche?</li>
                    <li>Wieviele?</li>
                  </ul>
                </li>
                <li>Tells the method name anything about the intention?</li>
              </ul>
            </li>
            <li>And what is good here?</li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - Signs of bad tests</h3>
        <pre>
          <code data-line-numbers="|2|5-7,10-12" data-ln-start-from="1" class="language-java" data-trim data-noescape>
            @Test
            void testShouldRecalculateByExecutionMonth
              throws Exception{
              // Arrange
              RecalculationBatchJob.class
                .getField("executionDate")
                .set(job,"2020-29-05");

              // Act
              RecalculationBatchJob.class
                .getMethod("register")
                .invoke(job);
            }
          </code>
        </pre>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>What is bad here?</li>
            <li>
              <ul>
                <li>Internal details are testet here by reflection instead of the api (hard to refactor)</li>
              </ul>
            </li>
            <li>And what is good here?
              <ul>
                <li>Intention of the test is encoded in the method name</li>
              </ul>
            </li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - Signs of bad tests</h3>
        <pre>
          <code data-line-numbers="|12|8" data-ln-start-from="1" class="language-java" data-trim data-noescape>
            @Test
            void testShouldRecalculateAllCostsByBaseCosts
              throws Exception{
              // Arrange
              var job = new RecalculationBatchJob();

              // Act
              job.register();

              // Assert
              assertEquals(
                getBaseCostsFrom("c:\\users\\documents\\accounts.json"),
                job.getCalculatedCosts());
            }
          </code>
        </pre>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>What is bad here?
              <ul>
                <li>"Works on my machine"-Problem</li>
              </ul>
            </li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - Signs of bad tests</h3>
        <div class="r-hstack">
          <div>
            <h4>Test Setup</h4>
            <img
                src="img/BigTestSetup.png"
                alt="Big Test Setup"
                width="80%"></img>
          </div>
          <div>
            <h4>Test Method</h4>
            <img
                src="img/BigTestMethod.png"
                alt="Big Test Method"
                width="80%"></img>
          </div>
        </div>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>What is bad here? (except for the Kind of mocking and verification)
              <ul>
                <li>Excessive test- or system setup</li>
                <li>All tests are dependent on the excessive setup</li>
                <li>setup is widely distributed among within the class</li>
              </ul>
            </li>
            <li>how can we avoid this?</li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - Signs of bad tests</h3>
        <div class="r-hstack">
          <div>
            <ul>
              <li>This are all builds of the main branch</li>
              <li>The Failing test is always se same</li>
            </ul>
          </div>
          <div class="r-hstack">
            <img
                src="img/FlickeryBamboo.png"
                alt="Big Test Setup"
                style="margin-right: 20px; margin-left: 20px"
                width="80"></img>
            <img
                src="img/FlickeryJenkins.png"
                alt="Big Test Method"
                width="80"></img>
          </div>
        </div>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>What is bad here? (It's always the same test which causes the red builds</li>
            <li>... it happens without code changes at the test or the related production code</li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>Quality - Signs of good tests</h3>
        <div class="r-hstack">
          <div>
            <ul>
              <li>communicate intention clearly</li>
              <li>give expressive feedback</li>
              <li>run reliably</li>
              <li>easy to maintain</li>
              <li>easy to understand</li>
            </ul>
          </div>
        </div>

        <aside aria-label=" speaker notes" class="notes ">
          <ul>
            <li>communicate intention clearly
              <ul>
                <li>Tests are used to communicate</li>
                <li>they should explain expected behavior</li>
                <li>The usage of the right and if possible domain specific is important</li>
                <li>Not use to technical terms if they are not needed and can be avoided</li>
              </ul>
            </li>
            <li>give expressive feedback
              <ul>
                <li>Should show what is wrong</li>
                <li>if possible also where is something wrong</li>
              </ul>
            </li>
            <li>run reliably
              <ul>
                <li>Should only be green if everything is fine</li>
                <li>Should not flicker (otherwise they waste of time and brain cells)</li>
              </ul>
            </li>
            <li>easy to maintain and understand
              <ul>
                <li>the business case</li>
                <li>the mandatory technical details</li>
              </ul>
            </li>
          </ul>
        </aside>
      </section>

    </section>

    <section data-auto-animate>
      <section data-auto-animate>
        <h3>types of tests (simplified)</h3>
        <ul>
          <li class="fragment fade-out strike"><p>Acceptance</p></li>
          <li class="fragment fade-out strike"><span>UI</span></li>
          <li class="fragment semi-fade-out">Integrati<u>ve</u>*</li>
          <li>Unittests**
            <ul>
              <li class="fragment fade-in-then-semi-out">Solitary/Micro-test*</li>
              <li class="fragment fade-in">Sociable</li>
            </ul>
          </li>
        </ul>

        <p>
          <small><a
              href="https://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.html">*UncleBob (2017) -
            TestDefinitions</a></small>
        </p>
        <p>
          <small> <a href="https://martinfowler.com/bliki/UnitTest.html">**Martin Fowler (2014) - Unittests by Martin
            Fowler</a></small>
        </p>

        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>Acceptance
              <ul>
                <li>Business perspective on what the code/system should do</li>
                <li>can (and maybe should) settle everywhere</li>
                <li>We won't cover them in detail here</li>
              </ul>
            </li>
            <li>UI
              <ul>
                <li>as the name suggests it</li>
                <li>Tests should be silly because they are harder to test and more fragile</li>
                <li>We won't cover them here</li>
              </ul>
            </li>
          </ul>

          <p>
            <small> <a href="https://martinfowler.com/bliki/UnitTest.html">Unittests by Kent Beck</a></small>
          </p>
          <p>
            <small><a
                href="https://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.html">TestDefinitions</a></small>
          </p>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>types of tests (simplified)</h3>
        <ul>
          <li style="opacity: 0.5">Integrati<u>ve</u>*</li>
          <li>Unittests**
            <ul>
              <li style="opacity: 0.5">Solitary/Micro-test*</li>
              <li>Sociable</li>
            </ul>
          </li>
        </ul>

        <p>
          <small><a
              href="https://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.html">*UncleBob (2017) -
            TestDefinitions</a></small>
        </p>
        <p>
          <small> <a href="https://martinfowler.com/bliki/UnitTest.html">**Martin Fowler (2014) - Unittests by Martin
            Fowler</a></small>
        </p>

        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>
              Integrative
              <ul>
                <li>They make sure system or sub-assemblies can be integrated</li>
                <li>And yes ... integrative, not integration</li>
                <li>Any kind of test with overhead for external dependencies
                  <ul>
                    <li>Integration</li>
                    <li>Systems</li>
                    <li>End-To-End</li>
                    <li>...</li>
                  </ul>
                </li>
                <li>We'll talk a little about them</li>
              </ul>
            </li>
            <li>Unittests
              <ul>
                <li>Programmers perspective on what the code should do</li>
                <li>types
                  <ul>
                    <li>Solitary/Micro
                      <ul>
                        <li>(Mocks Mocks Mocks)</li>
                        <li><em>Avoid them!</em></li>
                        <li>Hard coupling to production code</li>
                        <li>Harder/impossible refactoring of production code</li>
                        <li>very fast</li>
                      </ul>
                    </li>
                    <li>Sociable
                      <ul>
                        <li>Unit-Tests as they should be</li>
                        <li>no Mocks (or very few if there are good reasons)</li>
                        <li>easy refactorings</li>
                        <li>very fast as well</li>
                        <li><em>We'll focus on them</em></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>

          </ul>

          <p>
            <small> <a href="https://martinfowler.com/bliki/UnitTest.html">Unittests by Kent Beck</a></small>
          </p>
          <p>
            <small><a
                href="https://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.html">TestDefinitions</a></small>
          </p>
        </aside>
      </section>


      <section data-auto-animate>
        <h3>Test-pyramid</h3>

        <svg width="1000" height="400">
          <defs>
            <linearGradient id="gradientTransparent" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0.1" stop-color="#FF0000" stop-opacity="0.25"/>
              <stop offset="0.7" stop-color="#FFFF00" stop-opacity="0.25"/>
              <stop offset="1" stop-color="#00FF00" stop-opacity="0.25"/>
            </linearGradient>
          </defs>

          <defs>
            <linearGradient id="gradient" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0.1" stop-color="#FF0000"/>
              <stop offset="0.7" stop-color="#FFFF00"/>
              <stop offset="1" stop-color="#00FF00"/>
            </linearGradient>
          </defs>

          <g transform="translate(500, 200)">
            <polygon points="0,-200 250,150 -250,150" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="middle" y="-160" fill="white">*</text>
            <text text-anchor="middle" y="-100" fill="white">UI</text>
            <text text-anchor="middle" y="25" fill="white">integrational</text>
            <text text-anchor="middle" y="125" fill="white">unit</text>
          </g>

          <g transform="translate(775, 200)">
            <polygon points="0,150 30,-200 -30,-200" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="end" y="10" x="185" transform="rotate(270)" fill="white" font-size=".7em">
              costs
            </text>
          </g>

          <g transform="translate(850, 200)">
            <polygon points="0,150 30,-200 -30,-200" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="end" y="10" x="185" transform="rotate(270)" fill="white" font-size=".7em">
              fragility
            </text>
          </g>

          <g transform="translate(925, 200)">
            <polygon points="0,150 30,-200 -30,-200" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="end" y="10" x="185" transform="rotate(270)" fill="white" font-size=".7em">
              confidence
            </text>
          </g>

          <g transform="translate(200, 200)">
            <polygon points="0,-200 30,150 -30,150" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="start" y="10" x="-125" transform="rotate(270)" fill="white" font-size=".7em">
              speed
            </text>
          </g>
          <g transform="translate(125, 200)">
            <polygon points="0,-200 30,150 -30,150" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="start" y="10" x="-125" transform="rotate(270)" fill="white" font-size=".7em">
              reliability
            </text>
          </g>
          <g transform="translate(50, 200)">
            <polygon points="0,-200 30,150 -30,150" stroke="url(#gradient)" fill="url(#gradientTransparent)"/>
            <text text-anchor="start" y="10" x="-125" transform="rotate(270)" fill="white" font-size=".7em">
              point of failure
            </text>
          </g>


          <g transform="translate(500, 200)">
            <polygon points="-480,150 -480,200 480,200 480,150" stroke="#0088AA" fill="#0088AA" fill-opacity="0.5"/>
            <text text-anchor="middle" y="185" fill="white" font-size=".7em">
              static tests (linting, smells, security...)
            </text>
          </g>
        </svg>

        <small><p>* explorative and other manual tests</p></small>

        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>Closer to the top = higher costs, fragility but confidence</li>
            <li>Closer to the bottom = faster, more reliably and simple failure isolation</li>
            <li>count et bottom should be higher but</li>

          </ul>
          <ul>
            <li>manual</li>
            <li>UI</li>
            <li>integrational</li>
            <li>unit</li>
            <li>static
              <ul>Linting</ul>
              <ul>Bugs</ul>
              <ul>Code Smells</ul>
              <ul>Compleyety</ul>
              <ul>cycles</ul>
              <ul>architectural</ul>
              <ul>Security</ul>
            </li>
          </ul>
        </aside>
      </section>

      <section data-auto-animate>
        <h3>100% Branch-Coverage with Unittests</h3>
        <pre>
        <code class="language-plantuml">
          @startuml
          skinparam handwritten true
          skinparam monochrome reverted
          skinparam backgroundColor transparent

          skinparam node{
            backgroundColor&lt;&lt;A&gt;&gt; #FFFFFF
            backgroundColor&lt;&lt;B&gt;&gt; #CCCCCC
            backgroundColor&lt;&lt;C&gt;&gt; #999999
          }

          node A1 as "1"&lt;&lt;A&gt;&gt;
          node A2 as "2"&lt;&lt;A&gt;&gt;
          node A3 as "3"&lt;&lt;A&gt;&gt;

          node B1 as "1"&lt;&lt;B&gt;&gt;
          node B2 as "2"&lt;&lt;B&gt;&gt;
          node B3 as "3"&lt;&lt;B&gt;&gt;

          node C1 as "1"&lt;&lt;C&gt;&gt;
          node C2 as "2"&lt;&lt;C&gt;&gt;
          node C3 as "3"&lt;&lt;C&gt;&gt;

          interface A as " "
          interface B as " "
          interface C as " "

          A -[bold,#LightGray]-> A1
          A -[bold,#LightGray]-> A2
          A -[bold,#LightGray]-> A3

          B -[bold,#darkGray]-> B1
          B -[bold,#darkGray]-> B2
          B -[bold,#darkGray]-> B3

          C -[bold,#Gray]-> C1
          C -[bold,#Gray]-> C2
          C -[bold,#Gray]-> C3
          @enduml
        </code>
      </pre>
        <p>9 Tests</p>

        <aside aria-label="speaker notes" class="notes">

        </aside>
      </section>

      <section data-auto-animate>
        <h3>100% Branch-Coverage with Integrative Tests</h3>
        <pre>
        <code class="language-plantuml">
         @startuml
          skinparam handwritten true
          skinparam monochrome reverted
          skinparam backgroundColor transparent

          skinparam node{
            backgroundColor&lt;&lt;A&gt;&gt; #FFFFFF
            backgroundColor&lt;&lt;B&gt;&gt; #CCCCCC
            backgroundColor&lt;&lt;C&gt;&gt; #999999
          }

          node A1 as "1"&lt;&lt;A&gt;&gt;
          node A2 as "2"&lt;&lt;A&gt;&gt;
          node A3 as "3"&lt;&lt;A&gt;&gt;

          node B1.1 as "1" &lt;&lt;B&gt;&gt;
          node B2.1 as "2" &lt;&lt;B&gt;&gt;
          node B3.1 as "3" &lt;&lt;B&gt;&gt;

          node B1.2 as "1" &lt;&lt;B&gt;&gt;
          node B2.2 as "2" &lt;&lt;B&gt;&gt;
          node B3.2 as "3" &lt;&lt;B&gt;&gt;

          node B1.3 as "1" &lt;&lt;B&gt;&gt;
          node B2.3 as "2" &lt;&lt;B&gt;&gt;
          node B3.3 as "3" &lt;&lt;B&gt;&gt;

          node C1.1.1 as "1" &lt;&lt;C&gt;&gt;
          node C2.1.1 as "2" &lt;&lt;C&gt;&gt;
          node C3.1.1 as "3" &lt;&lt;C&gt;&gt;

          node C1.1.2 as "1" &lt;&lt;C&gt;&gt;
          node C2.1.2 as "2" &lt;&lt;C&gt;&gt;
          node C3.1.2 as "3" &lt;&lt;C&gt;&gt;

          node C1.1.3 as "1" &lt;&lt;C&gt;&gt;
          node C2.1.3 as "2" &lt;&lt;C&gt;&gt;
          node C3.1.3 as "3" &lt;&lt;C&gt;&gt;

          node C1.2.1 as "1" &lt;&lt;C&gt;&gt;
          node C2.2.1 as "2" &lt;&lt;C&gt;&gt;
          node C3.2.1 as "3" &lt;&lt;C&gt;&gt;

          node C1.2.2 as "1" &lt;&lt;C&gt;&gt;
          node C2.2.2 as "2" &lt;&lt;C&gt;&gt;
          node C3.2.2 as "3" &lt;&lt;C&gt;&gt;

          node C1.2.3 as "1" &lt;&lt;C&gt;&gt;
          node C2.2.3 as "2" &lt;&lt;C&gt;&gt;
          node C3.2.3 as "3" &lt;&lt;C&gt;&gt;

          node C1.3.1 as "1" &lt;&lt;C&gt;&gt;
          node C2.3.1 as "2" &lt;&lt;C&gt;&gt;
          node C3.3.1 as "3" &lt;&lt;C&gt;&gt;

          node C1.3.2 as "1" &lt;&lt;C&gt;&gt;
          node C2.3.2 as "2" &lt;&lt;C&gt;&gt;
          node C3.3.2 as "3" &lt;&lt;C&gt;&gt;

          node C1.3.3 as "1" &lt;&lt;C&gt;&gt;
          node C2.3.3 as "2" &lt;&lt;C&gt;&gt;
          node C3.3.3 as "3" &lt;&lt;C&gt;&gt;

          interface A as " "

          A -[bold,#white]-> A1
          A -[bold,#white]-> A2
          A -[bold,#white]-> A3

          A1 -[bold,#white]-> B1.1
          A1 -[bold,#white]-> B2.1
          A1 -[bold,#white]-> B3.1

          A2 -[bold,#white]-> B1.2
          A2 -[bold,#white]-> B2.2
          A2 -[bold,#white]-> B3.2

          A3 -[bold,#white]-> B1.3
          A3 -[bold,#white]-> B2.3
          A3 -[bold,#white]-> B3.3

          B1.1 -[bold,#white]-> C1.1.1
          B1.1 -[bold,#white]-> C2.1.1
          B1.1 -[bold,#white]-> C3.1.1

          B2.1 -[bold,#white]-> C1.1.2
          B2.1 -[bold,#white]-> C2.1.2
          B2.1 -[bold,#white]-> C3.1.2

          B3.1 -[bold,#white]-> C1.1.3
          B3.1 -[bold,#white]-> C2.1.3
          B3.1 -[bold,#white]-> C3.1.3

          B1.2 -[bold,#white]-> C1.2.1
          B1.2 -[bold,#white]-> C2.2.1
          B1.2 -[bold,#white]-> C3.2.1

          B2.2 -[bold,#white]-> C1.2.2
          B2.2 -[bold,#white]-> C2.2.2
          B2.2 -[bold,#white]-> C3.2.2

          B3.2 -[bold,#white]-> C1.2.3
          B3.2 -[bold,#white]-> C2.2.3
          B3.2 -[bold,#white]-> C3.2.3

          B1.3 -[bold,#white]-> C1.3.1
          B1.3 -[bold,#white]-> C2.3.1
          B1.3 -[bold,#white]-> C3.3.1

          B2.3 -[bold,#white]-> C1.3.2
          B2.3 -[bold,#white]-> C2.3.2
          B2.3 -[bold,#white]-> C3.3.2

          B3.3 -[bold,#white]-> C1.3.3
          B3.3 -[bold,#white]-> C2.3.3
          B3.3 -[bold,#white]-> C3.3.3

          @enduml
        </code>
      </pre>
        <p>27 Tests</p>

        <aside aria-label="speaker notes" class="notes">

        </aside>
      </section>

      <section data-auto-animate>
        <h3>Showcase</h3>
        <p>Integration vs. Unit</p>
        <p>Code-Coverage vs. Test Coverage</p>
        <p><br/></p>
        <p><small>Branch "IntegrationUnitShowcase"</small></p>
      </section>

    </section>
    <section data-auto-animate>
      <h3>TDD</h3>
      <img src="img/UserfrientlyRequirements.png" class="r-stretch"
           aria-label="User Friendly comic - we need requirements"></img>
      <aside aria-label="speaker notes" class="notes">
        Sounds familar?
      </aside>

    </section>

    <section data-auto-animate>
      <h3>TDD</h3>
      <img src="img/TDD%20Cycle.png" class="r-stretch"
           aria-label="User Friendly comic - we need requirements"></img>

      <aside aria-label="speaker notes" class="notes">

      </aside>

    </section>
    <section data-auto-animate>
      <section data-auto-animate>
        <h3>TDD - Theory</h3>

        <svg width="400" height="400">
          <g transform="translate(-170 0) scale(1.15 1.15)" opacity="0.6">
            <circle r="155" cx="320" cy="180" fill="none" stroke="#fff" stroke-width="10"/>
            <path d="M 320 40 L 320 30 A 120 30 400 0 1 390 48 Z" fill="red"
                  fill-opacity="1"/>

            <path transform="rotate(120 320 180)" d="M 320 40 L 320 30 A 120 30 400 0 1 390 48 Z" fill="green"
                  fill-opacity="1"/>

            <path transform="rotate(240 320 180)" d="M 320 40 L 320 30 A 120 30 400 0 1 390 48 Z" fill="blue"
                  fill-opacity="1"/>


            <g transform="rotate(60 320 180)">
              <path fill="red"
                    d="M320,180L190.0961894323342,105.00000000000001A150,150,0,0,1,449.9038105676658,105.00000000000001Z"
                    stroke-width="1"/>
              <path fill="green"
                    d="M320,180L449.9038105676658,105.00000000000001A150,150,0,0,1,320,330Z"
                    stroke-width="1"/>
              <path fill="blue"
                    d="M320,180L320,330A150,150,0,0,1,190.0961894323342,104.99999999999999Z"
                    stroke-width="1"/>

            </g>

            <path d="m 320 180 L 320 30" stroke="#fff" stroke-width="1"/>
            <path transform="rotate(120 320 180)" d="m 320 180 L 320 30" stroke="#fff" stroke-width="1"/>
            <path transform="rotate(240 320 180)" d="m 320 180 L 320 30" stroke="#fff" stroke-width="1"/>

            <text text-anchor="start" x="330" y="80" font-size=".47em" fill="#FFFFFF">Red:
              <tspan x="330" font-size=".75em" dy="1.5em">- create test</tspan>
              <tspan x="330" font-size=".75em" dy="1em">- verify red</tspan>
              <tspan x="330" font-size=".75em" dy="1em">- verify message</tspan>
            </text>

            <text text-anchor="middle" x="320" y="230" font-size=".47em" fill="#FFFFFF">Green:
              <tspan x="320" font-size=".75em" dy="1.5em">- min required prod-code</tspan>
            </text>
            <text text-anchor="end" x="315" y="80" font-size=".47em" fill="#FFFFFF">Refactor:
              <tspan x="315" font-size=".75em" dy="1.5em">- remove dublets</tspan>
              <tspan x="315" font-size=".75em" dy="1em">- don't add logic</tspan>
              <tspan x="315" font-size=".75em" dy="1em">- improve identifier,</tspan>
              <tspan x="315" font-size=".75em" dy="1em">structure, readability</tspan>
              <tspan x="315" font-size=".75em" dy="1em">- only one side at once</tspan>
              <tspan x="315" font-size=".75em" dy="1em">(prod- or test code)</tspan>
            </text>
          </g>
        </svg>

        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li> This works on different stages at once as well.
              <ul>
                <li>Write higher level test for stage red</li>
                <li>Create all your units with tdd until the higher level test is green/li>
                <li>Do a higher level refactoring</li>
              </ul>
            </li>

          </ul>
        </aside>

      </section>

      <section data-auto-animate>
        <h3>TDD - rules</h3>
        <ul>
          <li>focus on one detail aka. one test at a time</li>
          <li>New test shows what's missing</li>
          <li>no prod change without a test*</li>
        </ul>
        <p><small>* We talk about exceptions later</small></p>
        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>one test at a time
              <ul>
                <li>helps to focus on details</li>
                <li>less distraction = less mistakes</li>
              </ul>
            </li>
            <li>New test shows what's missing
              <ul>
                <li>It's a little like with science
                  <ul>
                    <li>Your prod code is a hypothesis</li>
                    <li>A new test is a try to disprove it</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>no prod change without a test
              <ul>
                <li>waste of time</li>
                <li>potential errors</li>
              </ul>
            </li>
          </ul>
        </aside>

      </section>
      <section data-auto-animate>
        <h3>TDD - guideline</h3>
        <ul>
          <li>create executable specification</li>
          <li>Make tests less specific than prod code</li>
          <li>Don't dig for the gold (simple tests first)</li>
          <li>Talk with the business first</li>
        </ul>
        <aside aria-label="speaker notes" class="notes">
          <ul>
            <li>create executable specification
              <ul>
                <li>let the test tell the reader what the test expects the prod code to do...</li>
                <li>instead of how</li>
                <li>make your code as readable as possible (structure, identifiers, abstraction)</li>
              </ul>
            </li>
            <li>Make tests less specific than prod code
              <ul>
                <li>otherwise refactorings get much harder</li>
                <li>and you come to the fragile test problem</li>
              </ul>
            </li>
            <li>Don't dig for the gold (simple tests first)
              <ul>
                <li>Simplest parts of your business-cases first
                  <ul>helps to get a better picture and to start</ul>
                </li>
                <li>try to avoid to begin with exceptional cases
                  <ul>
                    <li>...but don't forget them</li>
                    <li>...(maybe write some todos if you think of some)</li>
                    <li>otherwise you may waste time on later problems</li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>Talk with the business first</li>
          </ul>
        </aside>

      </section>

    </section>
  </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/search/search.js"></script>
<script src="plugin/zoom/zoom.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script src="plugin/charts/charts.js"></script>
<script>
  // More info about initialization & config:
  // - https://revealjs.com/initialization/
  // - https://revealjs.com/config/
  Reveal.initialize({
    hash: true,
    slideNumber: "c/t",
    history: true,
    mouseWheel: false,
    transition: 'fade',
    navigationMode: "default",
    plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealSearch, RevealZoom],
    dependencies: [
      {src: "plugin/countdown/countdown.js"},
      {src: "//cdn.jsdelivr.net/npm/reveal-plantuml"},
    ]
  });
</script>
<script type="module" src="js/charts/costCharts.js"></script>
</body>
</html>
